(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{OSpC:function(e,t,n){},Q0Ux:function(e,t,n){var i=n("mp5j");e.exports=(i.default||i).template({1:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="movies__list-item">\r\n    <img class="movie__poster" src="'+c(typeof(a=null!=(a=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?a:s)===l?a.call(o,{name:"poster_path",hash:{},data:r,loc:{start:{line:3,column:36},end:{line:3,column:51}}}):a)+'" alt="'+c(typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:s)===l?a.call(o,{name:"title",hash:{},data:r,loc:{start:{line:3,column:58},end:{line:3,column:67}}}):a)+' poster" id="'+c(typeof(a=null!=(a=u(n,"id")||(null!=t?u(t,"id"):t))?a:s)===l?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:3,column:80},end:{line:3,column:86}}}):a)+'" loading="lazy">\r\n\r\n    <p class=" movie__name">'+c(typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:s)===l?a.call(o,{name:"title",hash:{},data:r,loc:{start:{line:5,column:28},end:{line:5,column:37}}}):a)+'</p>\r\n    <p class="movie__genre">'+c(typeof(a=null!=(a=u(n,"genre_ids")||(null!=t?u(t,"genre_ids"):t))?a:s)===l?a.call(o,{name:"genre_ids",hash:{},data:r,loc:{start:{line:6,column:28},end:{line:6,column:41}}}):a)+" | "+c(typeof(a=null!=(a=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?a:s)===l?a.call(o,{name:"release_date",hash:{},data:r,loc:{start:{line:6,column:44},end:{line:6,column:60}}}):a)+"</p>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?a:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("OSpC"),n("wcNg"),n("FdtR"),n("JBxO");var i="https://api.themoviedb.org/3",r="dc8a219507b80e9a1079e61c31f6a77a",a="data:image/jpeg;base64,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";function o(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=i,c=r,u=function(){function e(){this._page=1,this.result}var t,n,i,r=e.prototype;return r.fetchPopular=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(l+"/trending/movie/day?api_key="+c+"&page="+this._page);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,l,"next",e)}function l(e){o(a,i,r,s,l,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),r.incrementPage=function(){this._page+=1},r.resetPage=function(){this._page=1},r.decrementPage=function(){this._page-=1},t=e,(n=[{key:"page",get:function(){return this._page},set:function(e){this._page=e}}])&&s(t.prototype,n),i&&s(t,i),e}(),d={gallery:document.querySelector(".movies__list"),modal:document.querySelector(".lightbox__card"),paginationWrapper:document.querySelector(".js-pagination-wrapper"),paginationPrevButton:document.querySelector(".pagination-prev-button"),paginationNextButton:document.querySelector(".pagination-next-button"),authorsButton:document.querySelector(".footer_container__authors__button"),paginationContainer:document.querySelector(".movies__pagination-container"),searchInputRef:document.querySelector('input[name="search"]'),noResultRef:document.querySelector(".no-results"),microphone:document.querySelector(".microphone"),registerForm:document.querySelector(".modal__form-registration"),loginForm:document.querySelector(".modal__form-login"),signInModal:document.querySelector(".backdrop[data-modal-signin]"),signUpBtn:document.querySelector(".user-box__signup"),signInBtn:document.querySelector(".user-box__signin"),logOutBtn:document.querySelector(".logout-js"),signUpModal:document.querySelector(".backdrop[data-modal-signup]"),signUpNowBtn:document.querySelector(".signup-now__button"),spinner:document.querySelector(".square"),homeBtn:document.querySelector("#home-button"),libraryBtn:document.querySelector("#library-button"),headerBg:document.querySelector(".header__background"),searchWrap:document.querySelector(".search__input-wrapper"),libraryBtnsContainer:document.querySelector(".button-container"),signinSpinner:document.querySelector(".signin-spinner"),signUpSpinner:document.querySelector(".signup-spinner"),filterInput:document.querySelectorAll(".filter-input"),genrePicker:document.querySelector("#genrepicker"),yearPicker:document.querySelector("#yearpicker"),watchedBtn:document.querySelector(".watched-button"),queueBtn:document.querySelector(".queue-button"),filter:document.querySelector(".filter-section"),searchInput:document.querySelector(".search__input"),scrollToTopBtn:document.querySelector(".scrollToTopBtn")},h=n("Q0Ux"),m=n.n(h),p=(n("3dw1"),n("Np6Y")),f=n.n(p),v=function(){function e(){this.itemsPerPage=20}return e.prototype.renderPaginationMarkup=function(e,t){return new f.a.TemplatePaginator({current:e,rowsPerPage:this.itemsPerPage,totalResult:t,slashSeparator:!0,template:function(e){var t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),n='<div><ul class="paginator">';return e.pageCount<2||(e.previous&&e.current>=4&&t>768&&(n+='<li class="page-item">1</li><li class="page-item">&middot&middot&middot</li>'),e.range.length&&e.range.forEach((function(t,i){e.range[i]===e.current?n+='<li class="active page-item">'+e.range[i]+"</li>":n+='<li class="page-item">'+e.range[i]+"</li>"})),e.next&&e.current<=e.last-3&&t>768&&(n+='<li class="page-item">&middot&middot&middot</li><li class="page-item">'+e.last+"</li>")),n+="</ul></div>"}}).render()},e}();n("WB5j"),n("8cZI"),n("lYjL"),n("D/wG");function g(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){g(a,i,r,o,s,"next",e)}function s(e){g(a,i,r,o,s,"throw",e)}o(void 0)}))}}var w=i,L=r,b=new(function(){function e(){this.ganreObject={},this.handleGenre()}var t=e.prototype;return t.fetchGenre=function(){var e=y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"/genre/movie/list?api_key="+L);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.handleGenre=function(){var e=y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchGenre();case 2:this.ganreObject=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.ganreTranspiler=function(e){var t=this,n=[];return e.forEach((function(e){return t.ganreObject.genres.filter((function(t){return t.id===e})).forEach((function(e){return n.push(e.name)}))})),n},e}()),B=a;function k(e){return e.forEach((function(e){e.title.length>38&&(e.title=e.title.slice(0,38)+"..."),e.poster_path?e.poster_path="https://image.tmdb.org/t/p/w500/"+e.poster_path:e.poster_path=B,e.release_date?e.release_date=e.release_date.slice(0,4):e.release_date="Unknown",e.genre_ids.length>0?e.genre_ids=b.ganreTranspiler(e.genre_ids).slice(0,3).join(", "):e.genre_ids="Unknown"})),e}var A=function(){function e(){this.square=document.querySelector(".square")}var t=e.prototype;return t.hideSpinner=function(){this.square.classList.add("is-hidden")},t.showSpinner=function(){this.square.classList.remove("is-hidden")},e}();function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var I=i,E=r,S=function(){function e(){this._page=1}var t,n,i,r=e.prototype;return r.fetchMovies=function(e,t){var n=I+"/discover/movie?with_genres="+e+"&primary_release_year="+t+"&sort_by=popularity.desc&api_key="+E+"&page="+this._page;return fetch(n).then((function(e){return e.ok?e.json():[]})).catch((function(e){return console.log(e)}))},r.incrementPage=function(){this._page+=1},r.resetPage=function(){this._page=1},r.decrementPage=function(){this._page-=1},t=e,(n=[{key:"page",get:function(){return this._page},set:function(e){this._page=e}}])&&x(t.prototype,n),i&&x(t,i),e}();function q(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var T=i,P=r,W=function(){function e(){this.searchQuery="",this._page=1}var t,n,i,r=e.prototype;return r.fetchMovies=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T+"/search/movie?api_key="+P+"&query="+this.searchQuery+"&page="+this.page,e.next=3,fetch(t).then((function(e){return e.ok?e.json():[]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){q(a,i,r,o,s,"next",e)}function s(e){q(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),r.incrementPage=function(){this._page+=1},r.resetPage=function(){this._page=1},r.decrementPage=function(){this._page-=1},t=e,(n=[{key:"page",get:function(){return this._page},set:function(e){this._page=e}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}])&&_(t.prototype,n),i&&_(t,i),e}(),Q=n("jffb"),F=n.n(Q),N=d.searchInputRef,C=d.gallery,R=d.noResultRef,O=d.paginationWrapper,M=d.paginationPrevButton,j=d.paginationNextButton,X=d.paginationContainer,H=d.searchWrap,U=d.genrePicker,z=d.yearPicker,Z=new W,D=new v,K=new A;function G(e){Z.query=e,U.value="",z.value="",""!==N.value?(H.classList.add("without-after-el"),Z.resetPage(),Y()):H.classList.remove("without-after-el")}function Y(){Z.fetchMovies().then((function(e){window.scrollTo(0,0),K.showSpinner(),e!==[]&&(C.innerHTML=m()(k(e.results)),e.total_pages>1?(R.textContent="",X.classList.remove("visually-hidden"),M.classList.remove("hidden"),j.classList.remove("hidden"),M.removeEventListener("click",pe),j.removeEventListener("click",fe),O.removeEventListener("click",ve),M.removeEventListener("click",se),j.removeEventListener("click",le),O.removeEventListener("click",ce),M.addEventListener("click",J),j.addEventListener("click",V),O.addEventListener("click",$),O.innerHTML=D.renderPaginationMarkup(Z.page,e.total_results)):(O.innerHTML=null,M.classList.add("hidden"),j.classList.add("hidden")),0!==e.total_results&&""!==e.total_results||(R.textContent="Search result not successful. Enter the correct movie name and try again",setTimeout((function(){R.textContent=""}),2e3),X.classList.add("visually-hidden")),K.hideSpinner())})).catch((function(e){return console.log(e)}))}N.addEventListener("input",F()((function(e){G(e.target.value)}),500));var J=function(){Z.page<2||(Z.decrementPage(),Y())},V=function(){var e=document.querySelector("li.active");Z.page!==e.textContent&&(Z.incrementPage(),Y())},$=function(e){if("LI"===e.target.nodeName){if(isNaN(e.target.textContent))return;Z.page=e.target.textContent,Y()}};var ee=G,te=new A,ne=new S,ie=(new u,new v);!function(){var e=(new Date).getFullYear(),t=[];d.yearPicker.insertAdjacentHTML("beforeend",'<option value="">Choose year</option>');for(var n=e;n>1900;n--)t.push('<option value="'+n+'">'+n+"</option>");d.yearPicker.insertAdjacentHTML("beforeend",t)}();var re="",ae="";function oe(e,t){ne.fetchMovies(e,t).then((function(e){window.scrollTo(0,230),te.showSpinner(),d.gallery.innerHTML=m()(k(e.results)),e.total_results>20?(d.paginationPrevButton.classList.remove("hidden"),d.paginationNextButton.classList.remove("hidden"),d.paginationPrevButton.removeEventListener("click",pe),d.paginationNextButton.removeEventListener("click",fe),d.paginationWrapper.removeEventListener("click",ve),d.paginationPrevButton.removeEventListener("click",J),d.paginationNextButton.removeEventListener("click",V),d.paginationWrapper.removeEventListener("click",$),d.paginationPrevButton.addEventListener("click",se),d.paginationNextButton.addEventListener("click",le),d.paginationWrapper.addEventListener("click",ce),d.paginationWrapper.innerHTML=ie.renderPaginationMarkup(ne.page,e.total_results)):(d.paginationPrevButton.classList.add("hidden"),d.paginationNextButton.classList.add("hidden")),te.hideSpinner()}))}d.filterInput.forEach((function(e){e.addEventListener("change",(function(e){ne.resetPage(),d.searchInput.value="",re=d.yearPicker.value,oe(ae=d.genrePicker.value,re)}))}));var se=function(){ne.page<2||(ne.decrementPage(),oe(ae,re))},le=function(){var e=document.querySelector("li.active");ne.page!==e.textContent&&(ne.incrementPage(),oe(ae,re))},ce=function(e){if("LI"===e.target.nodeName){if(isNaN(e.target.textContent))return;ne.page=e.target.textContent,oe(ae,re)}};var ue=new u,de=new v,he=new A;function me(){he.showSpinner(),ue.fetchPopular().then((function(e){window.scrollTo(0,230),d.gallery.innerHTML=m()(k(e.results)),e.total_results>20?(d.paginationPrevButton.classList.remove("hidden"),d.paginationNextButton.classList.remove("hidden"),d.paginationPrevButton.removeEventListener("click",se),d.paginationNextButton.removeEventListener("click",le),d.paginationWrapper.removeEventListener("click",ce),d.paginationPrevButton.removeEventListener("click",J),d.paginationNextButton.removeEventListener("click",V),d.paginationWrapper.removeEventListener("click",$),d.paginationPrevButton.addEventListener("click",pe),d.paginationNextButton.addEventListener("click",fe),d.paginationWrapper.addEventListener("click",ve),d.paginationWrapper.innerHTML=de.renderPaginationMarkup(ue.page,e.total_results)):(d.paginationWrapper.innerHTML=null,d.paginationPrevButton.classList.add("hidden"),d.paginationNextButton.classList.add("hidden")),he.hideSpinner()})).catch((function(e){return console.log(console.error())}))}ue.resetPage(),me();var pe=function(){ue.page<2||(ue.decrementPage(),me())},fe=function(){var e=document.querySelector("li.active");ue.page!==e.textContent&&(ue.incrementPage(),me())},ve=function(e){if("LI"===e.target.nodeName){if(isNaN(e.target.textContent))return;ue.page=e.target.textContent,me()}};var ge=me,ye=(n("lmye"),n("ZEAQ"),n("y89P"),n("Muwe"),n("FWxf"),function(){function e(){this.refs=this.getRefs()}var t=e.prototype;return t.getRefs=function(){var e={};return e.infoCard=document.querySelector(".lightbox__card"),e.lightbox=document.querySelector(".js-lightbox"),e.overlay=document.querySelector(".lightbox__overlay"),e.closeBtn=document.querySelector('button[data-action="close-lightbox"]'),e},t.openLightbox=function(e){var t=this;e.preventDefault(),"IMG"===e.target.nodeName&&(Ue(e),this.refs.lightbox.classList.add("is-open"),document.body.style.overflow="hidden",this.refs.overlay.addEventListener("click",(function(){return t.closeLightbox()})),this.refs.closeBtn.addEventListener("click",(function(){return t.closeLightbox()})),window.addEventListener("keydown",(function(e){return t.closeOnKeydown(e)})))},t.closeLightbox=function(){var e=this;this.refs.lightbox.classList.remove("is-open"),document.body.style.overflow="visible",this.refs.infoCard.innerHTML="",this.refs.overlay.removeEventListener("click",(function(){return e.closeLightbox()})),this.refs.closeBtn.removeEventListener("click",(function(){return e.closeLightbox()})),window.removeEventListener("keydown",(function(t){return e.closeOnKeydown(t)}))},t.closeOnKeydown=function(e){"Escape"===e.code&&this.closeLightbox()},e}()),we=n("+qOj"),Le=n.n(we),be=n("dcBu");function Be(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Be(a,i,r,o,s,"next",e)}function s(e){Be(a,i,r,o,s,"throw",e)}o(void 0)}))}}var Ae=function(){function e(e,t){this.trailerID=e,this.trailerName=t}var t=e.prototype;return t.fetchTrailer=function(){var e=ke(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le()(null,{tmdbId:this.trailerID,apiKey:r,id:!0});case 2:return t=e.sent,e.abrupt("return",null!==t?t:this.fetchTrailerByName());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.fetchTrailerByName=function(){var e=ke(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le()(this.trailerName,{apiKey:r,id:!0});case 2:return t=e.sent,e.abrupt("return",null!==t?t:"_vECE5BJbA0");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.markupTrailer=function(e){return'<iframe src="https://www.youtube.com/embed/'+e+'?rel=0&autoplay=1" frameborder="0" allow="autoplay; fullscreen" class="trailer-tag" include></iframe>'},t.showTrailerModal=function(e){return be.create(e).show()},t.show=function(){this.fetchTrailer().then(this.markupTrailer).then(this.showTrailerModal)},e}(),xe=i,Ie=r,Ee=function(){function e(){}return e.prototype.fetchMovie=function(e){return fetch(xe+"/movie/"+e+"?api_key="+Ie).then((function(e){return e.ok?e.json():[]})).catch((function(e){return console.log(e)}))},e}(),Se=n("YyfI"),qe=n.n(Se),_e=(n("Xlt+"),n("VwVG"),n("ELjB"),n("SzhR")),Te=n("dIfx");function Pe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var We=function(){function e(){this._watchedFilms=[],this._filmsQueue=[],this.refreshData()}var t,n,i,r=e.prototype;return r.refreshData=function(){localStorage.getItem("films-queue")&&(this._filmsQueue=JSON.parse(localStorage.getItem("films-queue"))),localStorage.getItem("watched-films")&&(this._watchedFilms=JSON.parse(localStorage.getItem("watched-films")))},r.addToWatchedFilm=function(e){this._watchedFilms.push(e),this.saveWatchedFilms(),d.libraryBtn.disabled&&d.watchedBtn.disabled&&this.showWatchedFilms()},r.removeWathedFilm=function(e){this._watchedFilms.splice(e,1),this.saveWatchedFilms(),d.libraryBtn.disabled&&d.watchedBtn.disabled&&this.showWatchedFilms()},r.saveWatchedFilms=function(){localStorage.setItem("watched-films",JSON.stringify(this._watchedFilms))},r.showWatchedFilms=function(){var e=localStorage.getItem("watched-films");if(d.watchedBtn.disabled=!0,d.queueBtn.disabled=!1,!e)return Te.a.info({text:"Your watchedlist is empty.",delay:1e3}),void(d.gallery.innerHTML=null);var t="";JSON.parse(e).forEach((function(e){t+='<li class="movies__list-item">'+e.element+"</li>"})),d.gallery.innerHTML=t},r.getWathedListFromLS=function(){localStorage.getItem("watched-films")&&(this._watchedFilms=JSON.parse(localStorage.getItem("watched-films")))},r.addToQueue=function(e){this._filmsQueue.push(e),this.saveFilmsQueue(),d.libraryBtn.disabled&&d.queueBtn.disabled&&this.showFilmsQueue()},r.removeFromQueue=function(e){this._filmsQueue.splice(e,1),this.saveFilmsQueue(),d.libraryBtn.disabled&&d.queueBtn.disabled&&this.showFilmsQueue()},r.saveFilmsQueue=function(){localStorage.setItem("films-queue",JSON.stringify(this._filmsQueue))},r.showFilmsQueue=function(){var e=localStorage.getItem("films-queue");if(d.queueBtn.disabled=!0,d.watchedBtn.disabled=!1,!e)return Te.a.info({text:"Your queue is empty.",delay:1e3}),void(d.gallery.innerHTML=null);var t="";JSON.parse(e).forEach((function(e){t+='<li class="movies__list-item">'+e.element+"</li>"})),d.gallery.innerHTML=t},r.getQueueFromLS=function(){localStorage.getItem("films-queue")&&(this._filmsQueue=JSON.parse(localStorage.getItem("films-queue")))},t=e,(n=[{key:"watchedFilms",get:function(){return this._watchedFilms}},{key:"filmsQueue",get:function(){return this._filmsQueue}}])&&Pe(t.prototype,n),i&&Pe(t,i),e}();function Qe(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Qe(a,i,r,o,s,"next",e)}function s(e){Qe(a,i,r,o,s,"throw",e)}o(void 0)}))}}function Ne(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}_e.a.initializeApp({apiKey:"AIzaSyD5Lz8Xolb4aTDugqG9oqiD3TvNrCFheKg",authDomain:"filmoteka-d2783.firebaseapp.com",projectId:"filmoteka-d2783",storageBucket:"filmoteka-d2783.appspot.com",messagingSenderId:"870527658773",appId:"1:870527658773:web:6c74f3043e4340ced1d71c"});var Ce=_e.a.firestore(),Re=function(){function e(e){this._watched=[],this._queue=[],this.user=e}var t,n,i,r=e.prototype;return r.addToWatchedList=function(e){this._watched.push(e),this.saveWatchedFilms(),d.libraryBtn.disabled&&d.watchedBtn.disabled&&this.showWatched(this._watched)},r.removeFromWathedList=function(e){this._watched.splice(e,1),this.saveWatchedFilms(),d.libraryBtn.disabled&&d.watchedBtn.disabled&&this.showWatched(this._watched)},r.saveWatchedFilms=function(){Ce.collection("users").doc(this.user.uid).collection("Watched").doc("Markup").set({list:JSON.stringify(this._watched)})},r.getWatchedFromStorage=function(){var e=Fe(regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.collection("users").doc(this.user.uid).collection("Watched").doc("Markup").get();case 2:if(!(t=e.sent).data()){e.next=11;break}if(n=t.data().list){e.next=9;break}return Te.a.info({text:"Your watchedlist is empty.",delay:1e3}),d.gallery.innerHTML=null,e.abrupt("return");case 9:return JSON.parse(n).forEach((function(e){i._watched.push(e)})),e.abrupt("return",JSON.parse(n));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.showWatched=function(e){d.watchedBtn.disabled=!0,d.queueBtn.disabled=!1;var t="";e.forEach((function(e){t+='<li class="movies__list-item">'+e.element+"</li>"})),d.gallery.innerHTML=t},r.addToQueueList=function(e){this._queue.push(e),this.saveQueueFilms(),d.libraryBtn.disabled&&d.queueBtn.disabled&&this.showQueue(this._queue)},r.removeFromQueueList=function(e){this._queue.splice(e,1),this.saveQueueFilms(),d.libraryBtn.disabled&&d.queueBtn.disabled&&this.showQueue(this._queue)},r.saveQueueFilms=function(){Ce.collection("users").doc(this.user.uid).collection("Queue").doc("Markup").set({list:JSON.stringify(this._queue)})},r.getQueueFromStorage=function(){var e=Fe(regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.collection("users").doc(this.user.uid).collection("Queue").doc("Markup").get();case 2:if(!(t=e.sent).data()){e.next=11;break}if(n=t.data().list){e.next=9;break}return Te.a.info({text:"Your watchedlist is empty.",delay:1e3}),d.gallery.innerHTML=null,e.abrupt("return");case 9:return JSON.parse(n).forEach((function(e){i._queue.push(e)})),e.abrupt("return",JSON.parse(n));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.showQueue=function(e){d.queueBtn.disabled=!0,d.watchedBtn.disabled=!1;var t="";e.forEach((function(e){t+='<li class="movies__list-item">'+e.element+"</li>"})),d.gallery.innerHTML=t},t=e,(n=[{key:"watched",get:function(){return this._watched}},{key:"queue",get:function(){return this._queue}}])&&Ne(t.prototype,n),i&&Ne(t,i),e}(),Oe=a,Me=d.gallery,je=new Ee,Xe=new ye,He=new We;Me.addEventListener("click",(function(e){return Xe.openLightbox(e)}));var Ue=function(e){je.fetchMovie(e.target.id).then((function(t){t.poster_path?t.poster_path="https://image.tmdb.org/t/p/w500/"+t.poster_path:t.poster_path=Oe;var n=t.genres.map((function(e){return e.name}));t.genres=n.join(", "),t.popularity=parseFloat(t.popularity).toFixed(1),Xe.refs.infoCard.insertAdjacentHTML("beforeend",qe()(t));var i={id:e.target.id,element:e.target.parentNode.innerHTML},r=document.querySelector(".modal-button-watched"),a=document.querySelector(".modal-button-queue");_e.a.auth().onAuthStateChanged((function(e){if(e){var t=new Re(e);t.getWatchedFromStorage().then((function(e){e&&e.some((function(e){return e.id===i.id}))?(r.classList.add("ableToRemove"),r.textContent="remove from viewed"):(r.classList.add("ableToAdd"),r.textContent="add to watched")})),r.addEventListener("click",(function(){if(r.classList.contains("ableToAdd"))t.addToWatchedList(i),r.classList.replace("ableToAdd","ableToRemove"),r.textContent="remove from viewed";else{var e=t.watched.findIndex((function(e){return e.id===i.id}));t.removeFromWathedList(e),r.classList.replace("ableToRemove","ableToAdd"),r.textContent="add to watched"}})),t.getQueueFromStorage().then((function(e){e&&e.some((function(e){return e.id===i.id}))?(a.classList.add("ableToRemove"),a.textContent="remove from queue"):(a.classList.add("ableToAdd"),a.textContent="add to queue")})),a.addEventListener("click",(function(){if(a.classList.contains("ableToAdd"))t.addToQueueList(i),a.classList.replace("ableToAdd","ableToRemove"),a.textContent="remove from queue",console.log(t);else{var e=t.queue.findIndex((function(e){return e.id===i.id}));t.removeFromQueueList(e),a.classList.replace("ableToRemove","ableToAdd"),a.textContent="add to queue"}}))}else{He.watchedFilms.length&&He.watchedFilms.some((function(e){return e.id===i.id}))?(r.classList.add("ableToRemove"),r.textContent="remove from viewed"):(r.classList.add("ableToAdd"),r.textContent="add to watched");r.addEventListener("click",(function(){if(r.classList.contains("ableToAdd"))He.addToWatchedFilm(i),r.classList.replace("ableToAdd","ableToRemove"),r.textContent="remove from viewed";else{var e=He.watchedFilms.findIndex((function(e){return e.id===i.id}));He.removeWathedFilm(e),r.classList.replace("ableToRemove","ableToAdd"),r.textContent="add to watched"}})),He.filmsQueue.length&&He.filmsQueue.some((function(e){return e.id===i.id}))?(a.classList.add("ableToRemove"),a.textContent="remove from queue"):(a.classList.add("ableToAdd"),a.textContent="add to queue");a.addEventListener("click",(function(){if(a.classList.contains("ableToAdd"))He.addToQueue(i),a.classList.replace("ableToAdd","ableToRemove"),a.textContent="remove from queue";else{var e=He.filmsQueue.findIndex((function(e){return e.id===i.id}));He.removeFromQueue(e),a.classList.replace("ableToRemove","ableToAdd"),a.textContent="add to queue"}}))}})),document.querySelector(".play-trailer").addEventListener("click",(function(e){new Ae(e.target.dataset.id,e.target.dataset.name).show()}))}))},ze=document.querySelector("#st-light-box-template"),Ze=be.create(ze,{onShow:function(){document.body.style.overflow="hidden"},onClose:function(){document.body.style.overflow="visible"}});d.authorsButton.addEventListener("click",Ze.show);n("4owi"),n("WoWj");try{var De=function(e){var t=Array.from(e.results).map((function(e){return e[0].transcript})).join("");d.searchInputRef.value=t,e.results[0].isFinal&&(Ge(),d.microphone.classList.remove("active-microphone"),ee(t))},Ke=function(){Ye.addEventListener("result",De),Ye.start()},Ge=function(){Ye.stop(),Ye.removeEventListener("result",De)};window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;var Ye=new SpeechRecognition;Ye.lang="en-US",Ye.interimResults=!0,d.microphone.addEventListener("click",(function(){if(!d.microphone.classList.contains("active-microphone"))return d.microphone.classList.add("active-microphone"),void Ke();d.microphone.classList.remove("active-microphone"),Ge()}))}catch(e){d.microphone.style.display="none"}n("QDHd");var Je=new We,Ve=d.homeBtn,$e=d.libraryBtn,et=d.headerBg,tt=d.searchWrap,nt=d.searchInputRef,it=d.libraryBtnsContainer,rt=d.gallery,at=d.paginationContainer,ot=d.filter,st=d.watchedBtn,lt=d.queueBtn,ct=d.yearPicker,ut=d.genrePicker;function dt(e){$e.disabled=!1,Ve.disabled=!0,st.disabled=!1,lt.disabled=!1,et.classList.remove("library__background"),$e.classList.remove("current"),Ve.classList.add("current"),tt.classList.remove("visually-hidden"),it.classList.add("visually-hidden"),ot.classList.remove("visually-hidden"),nt.value="",ge(),at.classList.remove("visually-hidden");for(var t=0;t<ht.length;t++){var n=it.getElementsByClassName("activeBtn");n.length>0&&n[t].classList.remove("activeBtn")}ct.value="",ut.value=""}Ve.addEventListener("click",(function(e){return dt(e)})),$e.addEventListener("click",(function(e){return function(e){$e.disabled=!0,Ve.disabled=!1,st.disabled=!0,lt.disabled=!1,Ve.classList.remove("current"),$e.classList.add("current"),st.classList.add("activeBtn"),et.classList.add("library__background"),tt.classList.add("visually-hidden"),it.classList.remove("visually-hidden"),ot.classList.add("visually-hidden"),rt.innerHTML="";var t=_e.a.auth().currentUser,n=new Re(t),i=function(){n.getWatchedFromStorage().then((function(e){n.showWatched(e)}))},r=function(){n.getQueueFromStorage().then((function(e){n.showQueue(e)}))};t?(n.getWatchedFromStorage().then((function(e){n.showWatched(e)})),st.removeEventListener("click",Je.showWatchedFilms),lt.removeEventListener("click",Je.showFilmsQueue),st.addEventListener("click",i),lt.addEventListener("click",r)):(Je.showWatchedFilms(),st.removeEventListener("click",i),lt.removeEventListener("click",r),st.addEventListener("click",Je.showWatchedFilms),lt.addEventListener("click",Je.showFilmsQueue));at.classList.add("visually-hidden")}()}));for(var ht=it.getElementsByClassName("button"),mt=0;mt<ht.length;mt++)ht[mt].addEventListener("click",(function(){var e=it.getElementsByClassName(" activeBtn");e.length>0&&(e[0].className=e[0].className.replace(" activeBtn","")),this.className+=" activeBtn"}));var pt=document.querySelector(".show-pass"),ft=document.querySelector(".pass-js");new We,_e.a.firestore();_e.a.auth().onAuthStateChanged((function(e){e?(dt(),d.signUpBtn.classList.add("is-hidden"),d.signInBtn.classList.add("is-hidden"),d.logOutBtn.classList.remove("is-hidden"),Te.a.success({title:"Success!",text:"You have successfully signed in.",delay:1e3})):(d.signUpBtn.classList.remove("is-hidden"),d.signInBtn.classList.remove("is-hidden"),d.logOutBtn.classList.add("is-hidden"))})),d.registerForm.addEventListener("submit",(function(e){e.preventDefault();var t="",n=e.target.email.value;e.target.pass.value===e.target.secondpass.value?t=e.target.pass.value:Te.a.error({title:"Error",text:"Passwords did not match",delay:1e3}),d.signUpSpinner.classList.remove("is-hidden"),document.querySelector(".signup-wpapper").classList.add("load"),_e.a.auth().createUserWithEmailAndPassword(n,t).then((function(e){e.user;document.body.style.overflow="visible",document.querySelector(".signup-wpapper").classList.remove("load"),Te.a.success({title:"Success!",text:"Your account successfully created.",delay:1e3})})).then((function(){d.signUpSpinner.classList.add("is-hidden"),d.signUpModal.classList.add("is-hidden"),e.target.email.value=null,e.target.pass.value=null,e.target.secondpass.value=null,window.location.reload()})).catch((function(e){document.querySelector(".signup-wpapper").classList.remove("load"),d.signUpSpinner.classList.add("is-hidden");e.code;var t=e.message;Te.a.error({title:"Error",text:t,delay:1e3})}))})),d.loginForm.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.email.value,n=e.target.pass.value;d.signinSpinner.classList.remove("is-hidden"),document.querySelector(".signin-wpapper").classList.add("load"),_e.a.auth().signInWithEmailAndPassword(t,n).then((function(e){e.user;document.body.style.overflow="visible",document.querySelector(".signin-wpapper").classList.remove("load")})).then((function(){d.signInModal.classList.add("is-hidden"),e.target.email.value=null,e.target.pass.value=null,window.location.reload(!0)})).catch((function(e){e.code;var t=e.message;Te.a.error({title:"Error",text:t,delay:1e3}),document.querySelector(".signin-wpapper").classList.remove("load")})).finally((function(){d.signinSpinner.classList.add("is-hidden"),d.loginForm.classList.remove("is-hidden")}))}));var vt=new _e.a.auth.GoogleAuthProvider;function gt(e){e.target===e.currentTarget&&(d.signInModal.classList.add("is-hidden"),document.body.style.overflow="visible")}function yt(e){e.target===e.currentTarget&&(d.signUpModal.classList.add("is-hidden"),document.body.style.overflow="visible")}function wt(e){"Escape"===e.key&&(document.body.style.overflow="visible",d.signInModal.classList.add("is-hidden"))}function Lt(e){"Escape"===e.key&&(document.body.style.overflow="visible",d.signUpModal.classList.add("is-hidden"))}document.querySelector(".google-signin").addEventListener("click",(function(){_e.a.auth().signInWithRedirect(vt),_e.a.auth().getRedirectResult().then((function(e){e.credential&&(d.signUpBtn.classList.add("is-hidden"),d.signInBtn.classList.add("is-hidden"),d.logOutBtn.classList.remove("is-hidden"),window.location.reload())})).catch((function(e){e.code,e.message,e.email,e.credential}))})),d.signUpBtn.addEventListener("click",(function(){d.signUpModal.classList.remove("is-hidden"),d.signUpModal.addEventListener("click",yt),window.addEventListener("keydown",Lt),document.body.style.overflow="hidden"})),d.signInBtn.addEventListener("click",(function(){pt.addEventListener("click",(function(){"password"===ft.type?ft.type="text":ft.type="password"})),d.signInModal.classList.remove("is-hidden"),document.body.style.overflow="hidden",d.signUpNowBtn.addEventListener("click",(function(){d.signInModal.classList.add("is-hidden"),d.signUpModal.classList.remove("is-hidden"),d.signUpModal.addEventListener("click",yt),window.addEventListener("keydown",Lt)})),d.signInModal.addEventListener("click",gt),window.addEventListener("keydown",wt)})),d.logOutBtn.addEventListener("click",(function(){_e.a.auth().signOut().then(Te.a.info({text:"You have been logged out.",delay:1e3}),location.reload(),dt())}));var bt=window.matchMedia("(max-width: 767px)");function Bt(e){e.matches?d.signUpBtn.classList.add("visually-hidden"):d.signUpBtn.classList.remove("visually-hidden")}bt.addListener(Bt),Bt(bt);var kt=n("yWWw"),At=n.n(kt),xt=document.documentElement;document.addEventListener("scroll",At()((function(){var e=xt.scrollHeight-xt.clientHeight;xt.scrollTop/e>.5?(d.scrollToTopBtn.classList.add("showBtn"),d.scrollToTopBtn.addEventListener("click",It)):(d.scrollToTopBtn.classList.remove("showBtn"),d.scrollToTopBtn.removeEventListener("click",It))}),500));var It=function(){xt.scrollTo({top:0,behavior:"smooth"})}},YyfI:function(e,t,n){var i=n("mp5j");e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,r){var a,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="movie-card">\r\n    <div class="movie-card__item">\r\n        <img src="'+c(typeof(a=null!=(a=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?a:s)===l?a.call(o,{name:"poster_path",hash:{},data:r,loc:{start:{line:3,column:18},end:{line:3,column:33}}}):a)+'" alt="Movie Poster" class="movie-card__poster"/>\r\n    </div>\r\n    <div class="movie-card__item">\r\n        <h2 class="movie-card__title">'+c(typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:s)===l?a.call(o,{name:"title",hash:{},data:r,loc:{start:{line:6,column:38},end:{line:6,column:47}}}):a)+'</h2>\r\n            <ul class="movie-card__info">\r\n                <li class="movie-card__info--item">\r\n                    <h3 class="movie-card__info--title">Vote / Votes</h3>\r\n                    <p class="movie-card__content--item"><span class="movie-card__vote">'+c(typeof(a=null!=(a=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?a:s)===l?a.call(o,{name:"vote_average",hash:{},data:r,loc:{start:{line:10,column:88},end:{line:10,column:104}}}):a)+"</span> / "+c(typeof(a=null!=(a=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?a:s)===l?a.call(o,{name:"vote_count",hash:{},data:r,loc:{start:{line:10,column:114},end:{line:10,column:128}}}):a)+'</p>\r\n                </li>\r\n                <li class="movie-card__info--item">\r\n                    <h3 class="movie-card__info--title">Popularity</h3>\r\n                    <p class="movie-card__content--item">'+c(typeof(a=null!=(a=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?a:s)===l?a.call(o,{name:"popularity",hash:{},data:r,loc:{start:{line:14,column:57},end:{line:14,column:71}}}):a)+'</p>\r\n                </li>\r\n                <li class="movie-card__info--item">\r\n                    <h3 class="movie-card__info--title">Original Title</h3>\r\n                    <p class="movie-card__content--item">'+c(typeof(a=null!=(a=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?a:s)===l?a.call(o,{name:"original_title",hash:{},data:r,loc:{start:{line:18,column:57},end:{line:18,column:75}}}):a)+'</p>\r\n                </li>\r\n                <li class="movie-card__info--item">\r\n                    <h3 class="movie-card__info--title">Genre</h3>\r\n                    <p class="movie-card__content--item">'+c(typeof(a=null!=(a=u(n,"genres")||(null!=t?u(t,"genres"):t))?a:s)===l?a.call(o,{name:"genres",hash:{},data:r,loc:{start:{line:22,column:57},end:{line:22,column:67}}}):a)+'</p>\r\n            </ul>\r\n        <button type="button" class="play-trailer" data-id='+c(typeof(a=null!=(a=u(n,"id")||(null!=t?u(t,"id"):t))?a:s)===l?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:24,column:59},end:{line:24,column:65}}}):a)+" data-name="+c(typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:s)===l?a.call(o,{name:"title",hash:{},data:r,loc:{start:{line:24,column:76},end:{line:24,column:85}}}):a)+'>Watch Trailer</button>\r\n        <h3 class="movie-card__about">About</h3>\r\n        <div class="movie-card__about--content">'+c(typeof(a=null!=(a=u(n,"overview")||(null!=t?u(t,"overview"):t))?a:s)===l?a.call(o,{name:"overview",hash:{},data:r,loc:{start:{line:26,column:48},end:{line:26,column:60}}}):a)+'</div>\r\n        <div class="button-wrapper">\r\n            <button type="button" class="modal-button modal-button-watched" data-id="'+c(typeof(a=null!=(a=u(n,"id")||(null!=t?u(t,"id"):t))?a:s)===l?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:28,column:85},end:{line:28,column:91}}}):a)+'" data-action="add-to-watched">Add to\r\n                watched</button>\r\n            <button type="button" class="modal-button modal-button-queue" data-id="'+c(typeof(a=null!=(a=u(n,"id")||(null!=t?u(t,"id"):t))?a:s)===l?a.call(o,{name:"id",hash:{},data:r,loc:{start:{line:30,column:83},end:{line:30,column:89}}}):a)+'" data-action="add-to-queue">Add to\r\n                queue</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.ceca7b0c5ded6c8015da.js.map